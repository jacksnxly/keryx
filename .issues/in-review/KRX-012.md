---
id: "KRX-012"
title: "Fix inaccurate backup file extension comment"
type: bug
status: in-review
priority: low
labels: [documentation, comment-rot]
created: "2026-01-25"
updated: "2026-01-25"
assignee: null
---

# Fix inaccurate backup file extension comment

## Problem
The doc comment claims backup is created as `.changelog.md.bak`, but the code creates `CHANGELOG.md.bak`.

## Current Behavior
In `src/changelog/writer.rs:16`:
```rust
/// - Backs up existing file to .changelog.md.bak
```

But the actual code at line 30:
```rust
let backup_path = path.with_extension("md.bak");
```

For `CHANGELOG.md`, `with_extension("md.bak")` produces `CHANGELOG.md.bak`, not `.changelog.md.bak`.

## Expected Behavior
Comment should match actual behavior.

## Acceptance Criteria
- [x] Comment accurately describes backup file naming
- [x] Example shows actual output (e.g., `CHANGELOG.md.bak`)

## Technical Notes
**File:** `src/changelog/writer.rs:16`

Fix:
```rust
/// - Backs up existing file to <filename>.md.bak (e.g., CHANGELOG.md.bak)
```

---

## Resolution

**Completed:** 2026-01-25

### Approach
Updated the doc comment to accurately describe the backup file naming behavior.

### Changes Made
- `src/changelog/writer.rs:16`: Changed comment from `.changelog.md.bak` to `<filename>.md.bak (e.g., CHANGELOG.md.bak)`

### Testing
- [x] Build passes (`cargo check`)
- [x] No functional changes required

---
*Solved by Claude Code*
